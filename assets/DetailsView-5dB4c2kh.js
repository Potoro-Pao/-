import{a as b}from"./axios-L6U4YIEh.js";import{_ as y,L as f,h as v,r as _,o as e,c as r,a as C,e as t,z as w,C as u,A as c,b as d,B as k,F as p,y as I,p as x,d as B}from"./index-Kc8cdeaF.js";import{c as D}from"./cartStore-vbYV3YKm.js";import{B as S}from"./BreadCrumbsComponent-GsdZZN67.js";var L={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_API:"potoro",BASE_URL:"/VueMission1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:P,VITE_API:V}=L,U={components:{Loading:f,BreadCrumbsComponent:S},data(){return{isLoading:!0,product:{},qty:1,showFullContent:!1,format:{},category:this.$route.query.category||"Default Category"}},computed:{breadcrumbs(){return[{path:"/",title:"Home"},{path:"/products",title:"Products"},{path:`/products?categories=${this.category}`,title:this.category},{path:"",title:"Product Details"}]}},methods:{...v(D,["addToCart"]),getProduct(){const{id:i}=this.$route.params;b.get(`${P}/api/${V}/product/${i}`).then(s=>{this.isLoading=!1,this.product=s.data.product,this.category=this.product.category,s.data.product.description&&(this.format=JSON.parse(s.data.product.description))})},toggleContent(){this.showFullContent=!this.showFullContent}},mounted(){this.getProduct()}},l=i=>(x("data-v-7147730d"),i=i(),B(),i),N={class:"container my-5"},T={class:"row"},E={class:"col-lg-8 d-flex"},q={class:"card rounded-0 flex-grow-1 mr-lg-2"},A={class:"row g-0"},F={class:"col-md-5"},R=["src"],z={class:"col-md-7"},M={class:"card-body"},O={class:"card-title",style:{"font-weight":"bold"}},j=l(()=>t("hr",{class:"my-4"},null,-1)),G={class:"card-text"},H=l(()=>t("strong",null,"Book Info",-1)),J=l(()=>t("br",null,null,-1)),W=l(()=>t("br",null,null,-1)),K=l(()=>t("br",null,null,-1)),Q=l(()=>t("br",null,null,-1)),X=l(()=>t("br",null,null,-1)),Y=l(()=>t("br",null,null,-1)),Z={class:"col-lg-4 d-flex"},$={class:"card rounded-0 flex-grow-1 ml-lg-2"},tt={class:"card-body"},ot={class:"card-title",style:{color:"green"}},st={key:0,class:"card-title text-muted",style:{color:"red"}},et=l(()=>t("p",null,"Free Delivery Worldwide",-1)),rt={class:"input-group mb-3"},nt=["value"],lt={class:"container"},ct={class:"row"},it=l(()=>t("h3",null,"Short Description",-1)),dt={key:0,class:"col-md-8"},at={key:0,class:"card-text",style:{"line-height":"2","font-size":"1.125rem"}},ut={key:1,class:"card-text",style:{"line-height":"2","font-size":"1.125rem"}},_t={key:1},pt={class:"container"},ht={class:"row"},mt={key:0,class:"mb-5 mt-4"},gt={key:1,class:"row g-3"},bt={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},yt=["src"];function ft(i,s,vt,Ct,o,a){const h=_("loading"),m=_("BreadCrumbsComponent");return e(),r(p,null,[C(h,{active:o.isLoading,"onUpdate:active":s[0]||(s[0]=n=>o.isLoading=n)},null,8,["active"]),t("div",N,[this.category!=="Default Category"?(e(),w(m,{key:0,breadcrumbs:a.breadcrumbs},null,8,["breadcrumbs"])):u("",!0),t("div",T,[t("div",E,[t("div",q,[t("div",A,[t("div",F,[t("img",{src:o.product.imageUrl,class:"img-fluid rounded-start",alt:"Product Image"},null,8,R)]),t("div",z,[t("div",M,[t("h5",O,c(o.product.title),1),j,t("p",G,[H,d(),J,W,d(" Author: "+c(o.format.author),1),K,d(" ISBN: "+c(o.format.ISBN),1),Q,d(" Pages: "+c(o.format.pages),1),X,d(" Publisher: "+c(o.format.publisher),1),Y])])])])])]),t("div",Z,[t("div",$,[t("div",tt,[t("h5",ot," $"+c(o.product.price)+" NTD ",1),o.product.origin_price!==o.product.price?(e(),r("h5",st,[t("del",null,"$"+c(o.product.origin_price)+" NTD",1)])):u("",!0),et,t("div",rt,[o.qty>1?(e(),r("button",{key:0,class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=n=>o.qty--),type:"button"}," - ")):u("",!0),t("input",{type:"text",class:"form-control",value:o.qty,readonly:"",style:{"text-align":"center"}},null,8,nt),t("button",{class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=n=>o.qty++),type:"button"}," + ")]),t("button",{type:"button",onClick:s[3]||(s[3]=k(n=>i.addToCart(o.product.id,o.qty),["prevent"])),class:"btn btn-primary w-100 mt-9"}," Add to Cart ")])])])])]),t("div",lt,[t("div",ct,[it,o.product.content?(e(),r("div",dt,[o.showFullContent?(e(),r("p",ut,[d(c(o.product.content)+" ",1),t("button",{onClick:s[5]||(s[5]=(...n)=>a.toggleContent&&a.toggleContent(...n)),class:"btn btn-link"},"Read less")])):(e(),r("p",at,[d(c(o.product.content.substring(0,100)+"...")+" ",1),t("button",{onClick:s[4]||(s[4]=(...n)=>a.toggleContent&&a.toggleContent(...n)),class:"btn btn-link"},"Read more")]))])):(e(),r("p",_t,"Loading description..."))])]),t("div",pt,[t("div",ht,[o.product.imagesUrl&&o.product.imagesUrl.length>0?(e(),r("h3",mt," Image Gallery ")):u("",!0),o.product.imagesUrl&&o.product.imagesUrl.length>0?(e(),r("div",gt,[t("div",bt,[(e(!0),r(p,null,I(o.product.imagesUrl,(n,g)=>(e(),r("div",{key:g,class:"col"},[t("img",{src:n,class:"img-fluid",style:{height:"100%",width:"100%","object-fit":"cover"},alt:"Product Image"},null,8,yt)]))),128))])])):u("",!0)])])],64)}const Bt=y(U,[["render",ft],["__scopeId","data-v-7147730d"]]);export{Bt as default};
