import{_ as C,L as y,h as P,r as n,o as r,c as i,a as c,e,w as u,F as p,y as h,b as f,z as k,A as m,B as w}from"./index-Kc8cdeaF.js";import{a as B}from"./axios-L6U4YIEh.js";import{c as L}from"./cartStore-vbYV3YKm.js";import{P as V}from"./PaginationComponent-KjPhWLDL.js";import{B as T}from"./BreadCrumbsComponent-GsdZZN67.js";var $={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_API:"potoro",BASE_URL:"/VueMission1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:A,VITE_API:E}=$,I={components:{Loading:y,pagC:V,BreadCrumbsComponent:T},data(){return{isLoading:!0,products:[],categories:["Comic","History","Young Adult","Drama","Novel","Sci-Fi","Murder","TextBook"],pages:{}}},watch:{"$route.query":{handler(){this.getProduct()},deep:!0}},computed:{breadcrumbs(){const s=[{path:"/",title:"Home"},{path:"/products",title:"Products"}],o=this.$route.query.categories;return o&&s.push({path:`/products?categories=${o}`,title:o}),s}},methods:{...P(L,["addToCart"]),getProduct(s=1){const{categories:o=""}=this.$route.query,_=`${A}/api/${E}/products?page=${s}&category=${o}`;B.get(_).then(d=>{this.products=d.data.products,this.pages=d.data.pagination,this.isLoading=!1})}},mounted(){this.getProduct()}},S={class:"container mt-5"},D={class:"container mt-5"},N=e("h2",null,"Categories",-1),R={class:"row my-4"},U={id:"categoriesScroll",class:"overflow-auto"},M={class:"nav d-flex flex-nowrap"},q={class:"row"},F=["src"],H={class:"card-body d-flex flex-column"},O={class:"card-title"},j={class:"card-text flex-grow-1"},z=["onClick"];function Y(s,o,_,d,a,g){const v=n("loading"),x=n("BreadCrumbsComponent"),l=n("router-link"),b=n("pagC");return r(),i(p,null,[c(v,{active:a.isLoading,"onUpdate:active":o[0]||(o[0]=t=>a.isLoading=t)},null,8,["active"]),e("div",S,[e("div",D,[c(x,{breadcrumbs:g.breadcrumbs},null,8,["breadcrumbs"])]),N,e("div",R,[e("div",U,[e("nav",M,[c(l,{class:"nav-link py-2 px-3 text-muted",to:"/products"},{default:u(()=>[f("All")]),_:1}),(r(!0),i(p,null,h(a.categories,t=>(r(),k(l,{key:t,class:"nav-link py-2 px-3 text-muted",to:`/products?categories=${t}`},{default:u(()=>[f(m(t),1)]),_:2},1032,["to"]))),128))])])]),e("div",q,[(r(!0),i(p,null,h(a.products,t=>(r(),i("div",{class:"col-md-4 d-flex align-items-stretch",key:t.id},[c(l,{to:`/product/${t.id}`,class:"card mb-3 w-100 d-flex flex-column text-decoration-none"},{default:u(()=>[e("img",{style:{"object-fit":"contain",height:"250px"},src:t.imageUrl,class:"card-img-top",alt:"Product Image"},null,8,F),e("div",H,[e("h5",O,m(t.title),1),e("p",j,"NTD $"+m(t.price),1),e("a",{onClick:w(G=>s.addToCart(t.id),["prevent"]),href:"#",class:"btn btn-outline-info w-100"},"Add to Cart",8,z)])]),_:2},1032,["to"])]))),128)),c(b,{pages:a.pages,getProduct:g.getProduct,basePath:"#/"},null,8,["pages","getProduct"])])])],64)}const Z=C(I,[["render",Y]]);export{Z as default};
