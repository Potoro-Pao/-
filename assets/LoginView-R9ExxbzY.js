import{a as u}from"./axios-L6U4YIEh.js";import{_ as p,T as h,r as g,o as f,c as b,a as w,e as o,B as _,E as l,G as d,V as c,F as v}from"./index-Kc8cdeaF.js";import{B as k}from"./BgComponent-JwHrnQng.js";var y={VITE_URL:"https://ec-course-api.hexschool.io/v2",VITE_API:"potoro",BASE_URL:"/VueMission1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:C}=y,x={data(){return{user:{account:null,password:null}}},components:{BgComponent:k},methods:{logBackHome(){this.$router.push("/")},loginCheck(){const i={username:this.user.account,password:this.user.password};u.post(`${C}/admin/signin`,i).then(e=>{const{token:n,expired:t}=e.data;document.cookie=`hexVueToken=${n}; expires=${new Date(t)}`,this.$router.push("/admin/products")}).catch(()=>{this.showToast("Login failed. Please check your credentials and try again.","bg-danger")})},showToast(i,e){const n=document.createElement("div");n.style.position="fixed",n.style.top="1rem",n.style.right="1rem",n.style.zIndex="1050";const t=document.createElement("div");t.className=`toast align-items-center text-white ${e} border-0`,t.role="alert",t.ariaLive="assertive",t.ariaAtomic="true",t.innerHTML=`
    <div class="d-flex">
      <div class="toast-body">
        ${i}
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>`,n.appendChild(t),document.body.appendChild(n),new h(t).show(),setTimeout(()=>{t.remove(),n.remove(),this.$router.push({name:"NotFound"})},2500)}}},B={class:"container"},E={class:"row justify-content-center"},V=o("h1",{class:"h3 mb-3 mt-5 font-weight-normal text-center"},"Admin Log in",-1),T={class:"col-8"},L={class:"form-floating mb-3"},P=o("label",{for:"username"},"Email address",-1),D={class:"form-floating"},H=o("label",{for:"password"},"Password",-1),I=o("button",{id:"loginBtn",class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," Log in ",-1);function M(i,e,n,t,r,a){const m=g("BgComponent");return f(),b(v,null,[w(m),o("div",B,[o("div",E,[V,o("div",T,[o("form",{id:"form",class:"form-signin",onSubmit:e[5]||(e[5]=_((...s)=>a.loginCheck&&a.loginCheck(...s),["prevent"]))},[o("div",L,[l(o("input",{onKeyup:e[0]||(e[0]=c((...s)=>a.loginCheck&&a.loginCheck(...s),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=s=>r.user.account=s),type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,544),[[d,r.user.account]]),P]),o("div",D,[l(o("input",{onKeyup:e[2]||(e[2]=c((...s)=>a.loginCheck&&a.loginCheck(...s),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=s=>r.user.password=s),type:"password",class:"form-control",id:"password",placeholder:"Password",required:""},null,544),[[d,r.user.password]]),H]),I,o("button",{onClick:e[4]||(e[4]=(...s)=>a.logBackHome&&a.logBackHome(...s)),class:"btn btn-lg btn-secondary w-100 mt-3"}," Back to Home Page ")],32)])])])],64)}const N=p(x,[["render",M]]);export{N as default};
